Parameters:

  Halo_gNFW_rho0:
    alpha: 1
    beta: 3
    gamma: 1
    r_sun: 8.5
    rho0: 0.242531
    rs: 20
    v0: 222.662
    vesc: 550
    vrot: 222.662
  ScalarSingletDM_Z3:
    mS:
      range: [45., 10000.]
      prior_type: log
    lambda_hS:
      range: [0.0001, 10.00]
      prior_type: log
    mu3: 0.0
  StandardModel_Higgs_running:
    Qin:
      same_as: ScalarSingletDM_Z3::mS
    QEWSB: 173
    mH: 100.339
  StandardModel_SLHA2:
    CKM_A: 0.814
    CKM_etabar: 0.353
    CKM_lambda: 0.22537
    CKM_rhobar: 0.117
    GF: 1.16638e-05
    alpha1: 0
    alpha2: 0
    alphaS: 0.118309
    alphainv: 127.94
    delta13: 0
    mBmB: 4.18
    mCmC: 1.275
    mD: 0.0048
    mE: 0.000510999
    mMu: 0.105658
    mNu1: 0
    mNu2: 0
    mNu3: 0
    mS: 0.095
    mT: 172.828
    mTau: 1.77682
    mU: 0.0023
    mZ: 91.1876
    theta12: 0.58376
    theta13: 0.15495
    theta23: 0.76958
  nuclear_params_sigmas_sigmal:
    deltad: -0.427
    deltas: -0.085
    deltau: 0.842
    sigmal: 72.1006
    sigmas: 45.2599


Printer:
  printer: hdf5
  options:
    output_file: "gambit_output.hdf5"
    group: "/singlet"
    delete_file_if_exists: false
    delete_file_on_restart: true
    disable_combine_routines: true


Scanner:

  use_scanner: random

  scanners:

    random:
      plugin: random
      point_number: 500
      like: LogLike

ObsLikes:

    # LHC likelihoods
    - capability: lnL_Higgs_invWidth
      purpose: LogLike

    # Precision physics likelihoods
    - capability: lnL_h_mass
      purpose:    LogLike

    # Vacuum stability and perturbitivity
    - capability: lnL_EW_vacuum
      purpose: LogLike

    - capability: lnL_high_scale_vacuum
      purpose: LogLike

    # Dark matter likelihoods
    - capability: lnL_oh2
      purpose:    LogLike

    - capability: lnL_FermiLATdwarfs
      purpose:    LogLike

    - capability: XENON1T_2017_LogLikelihood
      purpose:    LogLike

    - capability: LUX_2016_LogLikelihood
      purpose:    LogLike

    - capability: PandaX_2016_LogLikelihood
      purpose:    LogLike

    - capability: PandaX_2017_LogLikelihood
      purpose:    LogLike

    # SI nuclear nuisance parameter likelihood
    - capability: lnL_SI_nuclear_parameters
      purpose:    LogLike

    # DM Local Halo likelihoods
    - capability: lnL_rho0
      purpose: LogLike

    - capability: lnL_v0
      purpose: LogLike


    # SM nuisance parameter likelihoods
    - capability: lnL_t_mass
      purpose:    LogLike

    - capability: lnL_alpha_s
      purpose:    LogLike

    # Observables
    - capability: scale_of_nonperturbativity
      function: find_non_perturb_scale_ScalarSingletDM_Z3
      module: SpecBit
      purpose: Observable

    - capability: lambdaB
      purpose: Observable

    - capability: expected_vacuum_lifetime
      purpose: Observable

    - purpose:    Observable
      capability: mwimp

    - purpose:    Observable
      capability: sigmav

    - purpose:    Observable
      capability: sigma_SI_p

    - purpose:    Observable
      capability: sigma_SI_n
    - purpose:    Observable
      capability: RD_oh2

    - purpose: Observable
      capability: semi_annihilation_fraction

    - capability: ScalarSingletDM_Z3_spectrum
      purpose: Observable
      function: get_ScalarSingletDM_Z3_spectrum_as_map
      dependencies:
         - capability: ScalarSingletDM_Z3_spectrum
           type: Spectrum

Rules:

  # Set v0 to 240 +/- 8 km/s based on Reid et al [arXiv:1401.5377]
  - capability: lnL_v0
    function: lnL_v0_gaussian
    options:
      v0_obs: 240
      v0_obserr: 8

  # Choose to rescale signals in direct and indirect detection by the relic density fraction
  - capability: RD_fraction
    function: RD_fraction_leq_one

  - capability: vacuum_stability
    function: find_min_lambda_ScalarSingletDM_Z3
    module: SpecBit

  - capability: lnL_oh2
    function: lnL_oh2_upperlimit
    options:
       oh2_obs: 0.1188
       oh2_obserr: 0.001
       profile_systematics: false # Use likelihood version that has been profiled over systematics
       oh2_fractional_theory_error: 0.05


  - function: MicrOmegas_ScalarSingletDM_Z3_3_6_9_2_init
    options:
       VZdecay: 1 # 0 - no 3 body final states, 1 - virtual Z in annihilations, 2 - virtual Z in coannihilations
       VWdecay: 1 # 0 - no 3 body final states, 1 - virtual W in annihilations, 2 - virtual W in coannihilations


  - capability: decay_rates
    function: all_decays


# Compute spectrum with FS and check for perturbitivity up to top mass scale (default).
# Invalidate if not perturabitive.
  - capability: ScalarSingletDM_Z3_spectrum_pole
    function: get_ScalarSingletDM_Z3_spectrum
    options:
      check_perturb: false
      check_perturb_pts: 10

  - capability: RD_oh2_Xf_MicrOmegas
    function: RD_oh2_Xf_MicrOmegas
    options:
      fast: 1  # 0: standard (default), 1: fast
      Beps: 1e-5  #  1e-5: standard, 1: switches coann off
    backends:
    - {backend: MicrOmegas_ScalarSingletDM_Z3}

  - capability: RD_oh2
    function: RD_oh2_MicrOmegas

  - capability: get_channel_MicrOmegas
    function: get_channel_MicrOmegas
    backends:
    - {backend: MicrOmegas_ScalarSingletDM_Z3}

  # Choose to use detailed Fermi Pass 8 dwarf likelihoood from gamlike
  - capability: lnL_FermiLATdwarfs
    function:  lnL_FermiLATdwarfs_gamLike

  # Choose to use DarkSUSY yield tables for indirect detection
  - capability: SimYieldTable
    function: SimYieldTable_DarkSUSY
    options:
      allow_yield_extrapolation: true

  # Use DarkBit's own calculations of the direct detection couplings
  - capability: DD_couplings
    function: DD_couplings_ScalarSingletDM_Z3

  # Choose to get decays from DecayBit proper, not from an SLHA file.
  - capability: decay_rates
    function: all_decays

Logger:

  redirection:
    [Dependency Resolver] : "dep_resolver.log"
    [Backends]: "backends.log"
    [Core]: "core.log"
    [Printers]: "printers.log"
    [Logger]: "logger.log"
    [Models]: "models.log"
    [Scanner]: "scanner.log"
    [Utilities]: "utils.log"
    [Error]: "errors.log"
    [DecayBit,Warning] : "DecayBit.log"
    [SpecBit,Warning] : "SpecBit.log"

KeyValues:

  dependency_resolution:
    prefer_model_specific_functions: true

  # Options for the likelihood in the scan
  # Can choose a likelihood below which models are thrown away
  likelihood:
    model_invalid_for_lnlike_below: -1e4

  debug: true

  # Set the output path for the log files (relative to working directory unless absolute path is specified)
  #default_output_path: "runs/SingletDM-DarkBit/"
  default_output_path: "runs/SingletDM_Z3_full_2/"
