##########################################################################
## GAMBIT configuration for testing vacuum stability in a grid scan of [mT,mH]
##
## This will run a grid scan of the Higgs and top mass parameter space
## which is constrained from either side by perturbativity and vacuum
## stability constraints.
##
## Requires only SpecBit.
##########################################################################


Parameters:

    StandardModel_SLHA2:
      mT: 173.34

      alphainv:  1.27940010E+02 # alpha^{-1}(mZ)^MSbar *
      GF      :  1.16637870E-05 # G_Fermi **
      alphaS  :  1.18400000E-01 # alpha_s(mZ)^MSbar ^
      mZ      :  9.11876000E+01 # mZ(pole) !
      mBmB    :  4.2000000E+00 # mb(mb)^MSbar &
      mTau    :  1.777000E+00 # mtau(pole) ยง
      mNu3    :               0 # mnu3(pole)

      mE      :  5.10998928E-04 # melectron(pole) ยง **
      mNu1    :               0 # mnu1(pole)
      mMu     :  1.05658372E-01 # mmuon(pole) ยง
      mNu2    :               0 # mnu2(pole)
      mD      :  4.750000000E-03 # md(2 GeV)^MSbar @
      mU      :  2.40000000E-03 # mu(2 GeV)^MSbar @
      mS      :  1.040000000e-01 # ms(2 GeV)^MSbar @
      mCmC    :  1.2700000E+00 # mc(mc)^MSbar %

      CKM_lambda  :  0.22537
      CKM_A       :  0.814
      CKM_rhobar  :  0.117
      CKM_etabar  :  0.353

      theta12 :  0.58376 # solar angle
      theta23 :  0.76958 # atmospheric mixing angle
      theta13 :  0.15495 #
      delta13 :  0       # Dirac CP-violating phase
      alpha1  :  0       # first Majorana CP-violating phase
      alpha2  :  0       # second CP-violating Majorana phase

    StandardModel_Higgs_running:
      mH: 130.88
      QEWSB: 173
      
#    SingletDM_running:
#      lambda_S: 2
#      lambda_hS: 0
#      mS: 90.7

    SingletDM_running:
      lambda_S:
        range: [0,3]
      lambda_hS:
        range: [0,1]
      mS:
        same_as: SingletDM_running::lambda_hS
        scale: -2070
        shift: 90.7

Printer:
  # Select printer to use via string tag)
#  printer: ascii
#  options:
#    # Name of info file (explains content of output file)
#    info_file: "runs/spartan/samples/gambit_output2.info"
#    # Name of output file
#    output_file: "gambit_output.txt"
#    delete_file_on_restart: true

  printer: hdf5
  options:
    output_file: "gambit_output.hdf5"
    group: "/singlet"
    delete_file_if_exists: true
    delete_file_on_restart: true


Scanner:

  use_scanner: grid

  scanners:

    grid:
      plugin: grid
      version: ">=1.0"
      like:  LogLike
      grid_pts: [20,20]
      
    random:
      plugin: random
      point_number: 1
      like: LogLike  


ObsLikes:
   
    - capability: VS_likelihood
      purpose: LogLike

    - capability: find_non_perturb_scale
      purpose: Observable

    - capability: SingletDM_spectrum
      purpose: Observable
      function: get_SingletDM_spectrum_as_map
      dependencies:
         - capability: SingletDM_spectrum
           type: Spectrum
           
    - capability: get_lambdaB
      purpose: Observable

Rules:

    - capability: SingletDM_spectrum
      type: Spectrum
      function: get_SingletDM_spectrum_pole
      options:
        check_perturb: true
        check_high_scale: 10000
        check_perturb_pts: 10
        
        
    - capability: find_non_perturb_scale
      function: find_non_perturb_scale_SingletDM
      module: SpecBit


Logger:

  redirection:
    [Debug] : "debug.log"
    [Default] : "default.log"
    [SpecBit] : "SpecBit.log"


KeyValues:

  default_output_path: "runs/SpecBit_tests"

  likelihood:
    model_invalid_for_lnlike_below: -1e6

  dependency_resolution:
    prefer_model_specific_functions: true

  debug: false
