Parameters:

  # Nuclear matrix parameters.
  nuclear_params_sigmas_sigmal:
    sigmas:
      range: [19, 67]
    sigmal:
      range: [31, 85]
    deltau:  0.842
    deltad:  -0.427
    deltas:  -0.085

  #SM parameters.
  StandardModel_SLHA2:
    mT: 173.15

    alphainv:  1.27940010E+02 # alpha^{-1}(mZ)^MSbar *
    GF      :  1.16637870E-05 # G_Fermi **
    alphaS  :  1.18400000E-01 # alpha_s(mZ)^MSbar ^
    mZ      :  9.11876000E+01 # mZ(pole) !
    mBmB    :  4.18000000E+00 # mb(mb)^MSbar &
    mTau    :  1.77682000E+00 # mtau(pole) ยง
    mNu3    :               0 # mnu3(pole)

    mE      :  5.10998928E-04 # melectron(pole) ยง **
    mNu1    :               0 # mnu1(pole)
    mMu     :  1.05658372E-01 # mmuon(pole) ยง
    mNu2    :               0 # mnu2(pole)
    mD      :  4.80000000E-03 # md(2 GeV)^MSbar @
    mU      :  2.30000000E-03 # mu(2 GeV)^MSbar @
    mS      :  9.50000000E-02 # ms(2 GeV)^MSbar @
    mCmC    :  1.27500000E+00 # mc(mc)^MSbar %

    CKM_lambda  :  0.22537
    CKM_A       :  0.814
    CKM_rhobar  :  0.117
    CKM_etabar  :  0.353

    theta12 :  0.58376 # solar angle
    theta23 :  0.76958 # atmospheric mixing angle
    theta13 :  0.15495 #
    delta13 :  0       # Dirac CP-violating phase
    alpha1  :  0       # first Majorana CP-violating phase
    alpha2  :  0       # second CP-violating Majorana phase


  StandardModel_Higgs_running:
    mH:
      range: [100,200]
    QEWSB: 173

  SingletDM_running:
    mS:
      range: [45., 10000.]
      prior_type: log
    lambda_hS:
      range: [0.0001, 10.00]
      prior_type: log
    lambda_S: 0

  Halo_gNFW_rho0:
    rho0:
      range: [0.2, 0.8]
    v0: 235.0
    vesc: 550.0
    vrot: 235.0
    rs: 20.0
    r_sun: 8.5
    alpha: 1
    beta: 3
    gamma: 1

Printer:
  printer: hdf5
  options:
    output_file: "gambit_output.hdf5"
    group: "/singlet"
    delete_file_if_exists: true
    delete_file_on_restart: true


Scanner:

 use_scanner: diver

 scanners:

    diver:
      plugin: diver
      like: LogLike
      NP: 50000
      verbosity: 1
      convthresh: 0.0001

ObsLikes:

    # LHC likelihoods
    - capability: lnL_Higgs_invWidth
      purpose: LogLike

    # Precision physics likelihoods
    - capability: lnL_h_mass
      purpose:    LogLike

    # Vacuum stability and perturbitivity
    - capability: VS_likelihood
      purpose: LogLike

    #- capability: check_perturb_min_lambda
    #  purpose: LogLike

    # Dark matter likelihoods
    - capability: lnL_oh2
      purpose:    LogLike

    - capability: lnL_FermiLATdwarfs
      purpose:    LogLike

    - capability: XENON100_2012_LogLikelihood
      purpose:    LogLike

    - capability: XENON1T_2017_LogLikelihood
      purpose:    LogLike

    - capability: LUX_2015_LogLikelihood
      purpose:    LogLike

    - capability: LUX_2016_LogLikelihood
      purpose:    LogLike

    - capability: PandaX_2016_LogLikelihood
      purpose:    LogLike

    - capability: SuperCDMS_2014_LogLikelihood
      purpose:    LogLike

    - capability: IC79_loglike
      purpose:    LogLike

    # SI nuclear nuisance parameter likelihood
    - capability: lnL_SI_nuclear_parameters
      purpose:    LogLike

    # SM nuisance parameter likelihoods
    - capability: lnL_t_mass
      purpose:    LogLike

    # Observables
    - capability: find_non_perturb_scale
      function: find_non_perturb_scale_SingletDM
      module: SpecBit
      purpose: Observable

    - capability: get_lambdaB
      purpose: Observable

    - capability: expected_lifetime
      purpose: Observable

    - capability: lnL_alpha_s
      purpose:    LogLike

    # Other observables
    - purpose:    Observable
      capability: RD_oh2


Rules:
  
  # Choose to rescale signals in direct and indirect detection by the relic density fraction
  - capability: RD_fraction
    function: RD_fraction_leq_one       
       
  - capability: vacuum_stability
    function: find_min_lambda_SingletDM
    module: SpecBit

  - capability: lnL_oh2
    function: lnL_oh2_upperlimit
    options:
       oh2_obs: 0.1188
       oh2_obserr: 0.001
       profile_systematics: false # Use likelihood version that has been profiled over systematics
       oh2_fractional_theory_error: 0.05

  
  - function: MicrOmegas_SingletDM_3_6_9_2_init
    options:
       VZdecay: 1 # 0 - no 3 body final states, 1 - virtual Z in annihilations, 2 - virtual Z in coannihilations
       VWdecay: 1 # 0 - no 3 body final states, 1 - virtual W in annihilations, 2 - virtual W in coannihilations


  - capability: decay_rates
    function: all_decays


# Compute spectrum with FS and check for perturbitivity up to top mass scale (default).
# Invalidate if not perturabitive.
  - capability: SingletDM_spectrum_pole
    function: get_SingletDM_spectrum
    options:
      check_perturb: false
      check_perturb_pts: 10

  - capability: RD_oh2_Xf_MicrOmegas
    function: RD_oh2_Xf_MicrOmegas
    options:
      fast: 1  # 0: standard (default), 1: fast
      Beps: 1e-5  #  1e-5: standard, 1: switches coann off
    backends:
    - {backend: MicrOmegas_SingletDM}

  - capability: RD_oh2
    function: RD_oh2_MicrOmegas

  - capability: get_channel_MicrOmegas
    function: get_channel_MicrOmegas
    backends:
    - {backend: MicrOmegas_SingletDM}

  # Choose to use detailed Fermi Pass 8 dwarf likelihoood from gamlike
  - capability: lnL_FermiLATdwarfs
    function:  lnL_FermiLATdwarfs_gamLike

  # Choose to use DarkSUSY yield tables for indirect detection
  - capability: SimYieldTable
    function: SimYieldTable_DarkSUSY
    options:
      allow_yield_extrapolation: true

  # Use DarkBit's own calculations of the direct detection couplings
  - capability: DD_couplings
    function: DD_couplings_SingletDM

  # Choose to get decays from DecayBit proper, not from an SLHA file.
  - capability: decay_rates
    function: all_decays


Logger:

  redirection:
    [Debug] : "debug.log"
    [Default] : "default.log"
    [DecayBit] : "DecayBit.log"
    [DarkBit] : "DarkBit.log"
    [PrecisionBit] : "PrecisionBit.log"
    [FlavBit] : "FlavBit.log"
    [ColliderBit] : "ColliderBit.log"
    [SpecBit] : "SpecBit.log"
    [Dependency Resolver] : "dep_resolver.log"

KeyValues:

  dependency_resolution:
    prefer_model_specific_functions: true

  # Options for the likelihood in the scan
  # Can choose a likelihood below which models are thrown away
  likelihood:
    model_invalid_for_lnlike_below: -1e4

  debug: true

  # Set the output path for the log files (relative to working directory unless absolute path is specified)
  default_output_path: "runs/SingletDM-DarkBit/"
  #default_output_path: "/home/mmm0290/Scratch/gambit/SingletDM"
