# Test yaml setup for running nevents_like in ExampleBit_A, for purposes of
# testing loggers during multithreaded blocks.
#
# Ben Farmer <benjamin.farmer@fysik.su.se>
# Nov 2015
#
 
#======== Input parameter declarations =======
Parameters: 
  # In this test file we will simply be fitting the mean and standard deviation of a normal distribution.
  NormalDist:
    mu: 
      range: [15, 30]      
    sigma:
      range: [0, 5]

#======== Prior setup ========
Priors:
  # None needed: flat priors automatically generated for mu and sigma

#======== Output setup ========
Printer:
  printer: hdf5
  options:
    output_file: "results.hdf5"
    group: "/gambit_data"
    delete_file_if_exists: true

#======== Scanner setup ========
Scanner:
  use_scanner: multinest

  scanners:
    multinest:
      plugin: MultiNest
      options:
        like:  LogLike
        nlive: 1000
        tol: 0.01
        mmodal: 0
        # write native MultiNest ascii output files?
        outfile: 1 # yes, need them for resuming
        # No options to set, but still need the nodes at the moment...
        aux_printer_txt_options:
        aux_printer_stats_options:
        aux_printer_live_options:
                    
#======== Observables of interest ========
ObsLikes:
  - purpose:      LogLike
    capability:   nevents_like
    module:       ExampleBit_A
    type:         double

#======== Rule entries ========
Rules:
  # None required

#======== Logging setup ========
Logger:
  redirection:
    [Default]      : "default.log"
    [Utilities]    : "utils.log"
    [Utilities,Info] : "utils_info.log"
    [ExampleBit_A] : "ExampleBit_A.log"
    [Scanner]      : "Scanner.log"
    [Printers]     : "Printers.log"
  separate_file_per_process: true  # Default is "true"

#======== Generic Name/Value Section ========
KeyValues:

  signal_handling:
    SIGINT : "emergency_shutdown_longjmp"    # default: emergency_shutdown
    SIGTERM: "emergency_shutdown_longjmp"    # default: emergency_shutdown
    ignore_signals_during_shutdown: true #default: true

  #default_output_path: "runs/threadsafe_logger_test/"

  use_mpi_abort: false

  rng: ranlux48

  likelihood:
    model_invalid_for_lnlike_below: -1e6
