# Ultra-minimal GAMBIT (ScannerBit) Initialization file (in YAML)
# Below is an example to explore a EggBox likelihood using the
# multinest sampler.  Also include are instructions to use other
# likelihoods and scanners.
#

###################################
# Input parameter declarations
###################################

Parameters:


##############################
# Prior setup
##############################

Priors:

  # Here specify the priors, the parameters they work with, and any options as needed for that prior
  # A prior object is built for every entry here (along with any coming from 'ranges' keywords above),
  # and then they are combined into a "composite" prior

##############################
# Printer setup
##############################

Printer:

  # Select printer to use via string tag)
  #printer: ascii
  printer: hdf5

  # This options node is passed on wholesale to
  # the printer object; required options may
  # therefore vary according to the selected
  # printer.
  options:
    # name of info file (explains content of output file)
    #info_file: "runs/spartan/samples/gambit_output2.info"
    
    # name of output file
    output_file: "gambit_output.hdf5"
    group: "/test"
    delete_file_on_restart: true

##############################
# Scanner setup
##############################

Scanner:
  
  # This tag specifies which plugin(s) to use as likelihood functions
  # Here the EggBox likelihood is chosen, but you could choose the
  # EggBox and a gaussian ([EggBox, gaussian]) as defined under
  # the objectives section
  use_objectives: EggBox #[EggBox, gaussian]
  # this tag specifies which plugin to use as the scanner.
  # Here the multinest scanner is choosen, but you could
  # choose any scanner defined under the scanners section
  use_scanner: multinest #twalk

  scanners:

    mcmc:
      plugin: GreAT
      nTrialLists: 5
      nTrials: 40000
      like: LogLike

    twalk:
      plugin: twalk
      like: LogLike
      tolerance: 1.003
      kwalk_ratio: 0.9
      #chain_number: 20
      projection_dimension: 4

    de:
      plugin: Diver
      like: LogLike
      NP: 1000
      path: "runs"
      verbosity: 1

    random:
      plugin: random
      point_number: 1000008
      like: LogLike

    toy:
      like: LogLike
      plugin: toy_mcmc
      point_number: 2000

    square_grid:
      plugin: square_grid
      # the version number can be directly specific, or
      # you can give a logical statement.  Here, we
      # want any verion greater or equal to 1.0.
      version: ">=1.0"
      like: LogLike
      grid_pts: 3 #NxN grid

    grid:
      plugin: grid
      version: ">=1.0"
      like: LogLike
      grid_pts: [5, 5]

    multinest:
      plugin: multinest
      like: LogLike
      nlive: 2000
      tol: 0.1

    raster:
      plugin: raster
      like: LogLike
      parameters:
        "EggBox::param_0": 3.14
        "EggBox::param_1": [.2, .3]

  # the objectives defines the likelihoods you can use 
  # below are several examples.
  objectives:

    uniform:
      purpose: LogLike
      plugin: uniform
      #version: ">=1.0 & <2.0"
      parameters:
        param...2: # note that param...2 expands to [param_0, param_1]
          range: [0, 4]

    EggBox:
      plugin: EggBox
      purpose: LogLike
      parameters:
        param_0:
          #prior_type: none
          #plugin: flat
          range: [0, 1]
        param_1:
          range: [0, 1]

    gaussian:
      plugin: gaussian
      purpose: LogLike
      #cov: [[0.01, 0.0], [0.0, 0.01]]
      #mean: [0.5, 0.5]
      parameters:
        param...20:
          range: [-5, 5]

###############################
# Observables of interest
###############################

ObsLikes:

#########################
# Rule entries
#########################

Rules:

#########################
# Logging setup
#########################

Logger:

  # Redirection of specific messages according to tags
  # Can redirect to stdout or stderr by specifying these as the "filenames".
  # Obviously this also means it is impossible to redirect output to actual
  # files with these names.

  redirection:
    [Debug] : "debug.log"
    [Default] : "default.log"
    [Error] : "errors.log"
    [Warning] : "warnings.log"

###############################
## Printer (output) setup
###############################


##########################
# Name/Value Section
##########################

KeyValues:

  likelihood:
    model_invalid_for_lnlike_below: -1e6

  default_output_path: "runs/ScannerBit"
