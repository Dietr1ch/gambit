##########################################################################
## GAMBIT configuration for Non-relativistic effective oppperator DM
##########################################################################


Parameters:

  # SM parameters.
  StandardModel_SLHA2: !import include/StandardModel_SLHA2_scan.yaml

  StandardModel_Higgs: 
    mH: 125

  NREO_DiracDM:
    m:
      range: [1.0e-3, 1.0e+3]
    c0_1: 1.65e-8  # 1.65*10**(-8)
      # range: [1.0e-10, 1.0e-6]
    c0_2: 0
    c0_3: 0
    c0_4: 1.65e-8
      # range: [1.0e-10, 1.0e-6]
    c0_5: 0
    c0_6: 0
    c0_7: 0
    c0_8: 0
    c0_9: 0
    c0_10: 0
    c0_11: 0
    c0_12: 0
    c0_13: 0
    c0_14: 0
    c0_15: 0
    c1_1: 0
    c1_2: 0
    c1_3: 0
    c1_4: 0
    c1_5: 0
    c1_6: 0
    c1_7: 0
    c1_8: 0
    c1_9: 0
    c1_10: 0
    c1_11: 0
    c1_12: 0
    c1_13: 0
    c1_14: 0
    c1_15: 0

  Halo_gNFW_rho0:
    rho0: .5
      #range: [.2, .8]
    v0: 235.0
    vesc: 550.0
    vrot: 235.0
    rs: 20.0
    r_sun: 8.5
    alpha: 1
    beta: 3
    gamma: 1

  WIMP_sigmav:
    A_bb:     1.0e-26
    A_WW:     1.0e-26
    A_cc:     0
    A_ZZ:     0
    A_tt:     0
    A_hh:     0
    A_tautau: 0
    B_bb:     0 #1.0e-26
    B_WW:     0 #1.0e-26
    B_cc:     0
    B_ZZ:     0
    B_tt:     0
    B_hh:     0
    B_tautau: 0

Priors:

  # none


Printer:

  printer: hdf5
  options:
    output_file: "nreo.hdf5"
    group: "/nreo"
    delete_file_on_restart: true

  # printer: ascii
  # options:
  #  output_file: "nreo.dat"
  #  buffer_length: 10
  #  delete_file_on_restart: true

  # printer: cout

Scanner:

  use_scanner: sqrgrd

  scanners:

    random:
      plugin: random
      like: LogLike
      point_number: 10

    multinest:
      plugin: multinest
      like:  LogLike
      nlive: 500
      tol: 0.5

    twalk:
      plugin: twalk
      like: LogLike

    sqrgrd:
      plugin: square_grid
      like: LogLike
      grid_pts: 1


ObsLikes:
  # Direct detection
  - capability: LUX_2016_LogLikelihood
    purpose:    LogLike

  - capability: XENON1T_2018_LogLikelihood
    purpose:    LogLike

  - capability: PandaX_2016_LogLikelihood
    purpose:    LogLike

  - capability: PandaX_2017_LogLikelihood
    purpose:    LogLike

  - capability: PICO_60_2017_LogLikelihood
    purpose:    LogLike

  - capability: CRESST_II_LogLikelihood
    purpose:    LogLike

  - capability: CDMSlite_LogLikelihood
    purpose:    LogLike

  - capability: DarkSide_50_LogLikelihood
    purpose:    LogLike


Rules:
    # Needed by DDCalc_2_1_0_init, get WIMP-nucleon couplings from NREO wilson coefficients
    - capability: DDCalc_Couplings
      function: DDCalc_Couplings_NR_WCs # DDCalc_Couplings_WIMP_nucleon

    # Needed by DDCalc_2_1_0_init, _one sets to one
    - capability: RD_fraction
      function: RD_fraction_one # RD_fraction_leq_one, RD_fraction_rescaled
    
    # Needed by DDCalc_2_1_0_init, from WIMPprops pulls from the model params
    - capability: mwimp
      function: mwimp_from_WIMPprops # mwimp_generic

    # Needed by DDCalc_2_1_0_init, pulls from model params
    - capability: spinwimpx2
      function: jwimpx2_from_WIMPprops # spinwimpx2_generic
    
    # Needed by wimp_sc_generic, Effective Field Theory ID
    - capability: DarkMatter_ID
      function: DarkMatter_ID_EFT # DarkMatter_ID_MSSM
  
    # Needed by wimp_sc_generic, catalog for wimp eft
    - capability: TH_ProcessCatalog
      function: TH_ProcessCatalog_WIMP_EFT # TH_ProcessCatalog_MSSM

    # Needed by TH_ProcessCatalog_WIMP_EFT, choose to get decays from DecayBit proper, not from an SLHA file. from the HP_Develop branch in file capgentest.yaml
    - capability: decay_rates
      function: all_decays # all_decays_from_SLHA


Logger:

  redirection:
    [Debug]   : "debug.log"
    [Default]      : "default.log"
    [DarkBit] : "DarkBit.log"
    [PrecisionBit] : "PrecisionBit.log"
    [DecayBit] : "DecayBit.log"
    [SpecBit] : "SpecBit.log"
    [Scanner]      : "Scanner.log"


KeyValues:

  # dependency_resolution:
  #   prefer_model_specific_functions: true

  likelihood:
    model_invalid_for_lnlike_below: -5e5
    model_invalid_for_lnlike_below_alt: -1e5

  default_output_path: "runs/nreo_NR_direct"

  rng:
    generator: ranlux48
    seed: -1


  print_timing_data: true

  debug: true
