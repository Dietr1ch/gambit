#############################################################################
## GAMBIT configuration for a MultiNest scan of flavour physics Wilson coeffs
##
## Uses likelihood constraints from flavour physics observables only,
## without nuisance parameters.
#############################################################################


Parameters:

  StandardModel_SLHA2:
    alphaS    :  1.18500000E-01 # alpha_s(mZ)^MSbar ^
    mBmB      :  4.18000000E+00 # mb(mb)^MSbar &
    alphainv  :  1.27940010E+02 # alpha^{-1}(mZ)^MSbar
    mT        :  1.73340000E+02 # mtop(pole)
    GF        :  1.16637870E-05 # G_Fermi
    mZ        :  9.11876000E+01 # mZ(pole)
    mTau      :  1.77682000E+00 # mtau(pole)
    mNu3      :               0 # mnu3(pole)
    mD        :  4.80000000E-03 # md(2 GeV)^MSbar
    mU        :  2.30000000E-03 # mu(2 GeV)^MSbar
    mS        :  9.50000000E-02 # ms(2 GeV)^MSbar
    mCmC      :  1.27500000E+00 # mc(mc)^MSbar
    mE        :  5.10998928E-04 # melectron(pole)
    mMu       :  1.05658372E-01 # mmuon(pole)
    mNu1      :               0 # mnu1(pole)
    mNu2      :               0 # mnu2(pole)
    CKM_lambda:  0.22537        # Wolfenstein \lambda
    CKM_A     :  0.814          # Wolfenstein A
    CKM_rhobar:  0.117          # Wolfenstein \bar\rho
    CKM_etabar:  0.353          # Wolfenstein \bar\eta
    theta12   :  0.58376        # solar angle
    theta23   :  0.76958        # atmospheric mixing angle
    theta13   :  0.15495        # reactor angle
    delta13   :  0              # Dirac CP-violating phase
    alpha1    :  0              # first Majorana CP-violating phase
    alpha2    :  0              # second CP-violating Majorana phase

  StandardModel_Higgs:
    mH: 125.09

  WC:
    Re_DeltaC7:
      range: [-0.1, 0.1]
    Im_DeltaC7:  0
    Re_DeltaC9:  0
    Im_DeltaC9:  0
    Re_DeltaC10:
       range: [-3, 3]
    Im_DeltaC10: 0
    Re_DeltaCQ1: 0
    Im_DeltaCQ1: 0
    Re_DeltaCQ2: 0
    Im_DeltaCQ2: 0


Priors:

  # All priors are simple, so specified in Parameters section


Printer:

  printer: hdf5

  options:
    output_file: "HL_test.hdf5"
    group: "/HL_test"


Scanner:

  use_scanner: grid

  scanners:

    grid:
      plugin: square_grid
      like: LogLike
      grid_pts: 2


ObsLikes:

  # Likelihoods
  - purpose:    B2TauNuTest
    capability: HEPLike_B2TauNuLogLikelihood

  # FIXME: How are the observables called inside superiso?
  #- purpose:    RDRDstarTest
  #  capability: HEPLike_RDRDstarLogLikelihood

  - purpose:    B2SGammaTest
    capability: HEPLike_B2SGammaLogLikelihood

  - purpose:    B2LLTest_LHCb
    capability: HEPLike_B2mumuLogLikelihood_LHCb

  - purpose:    B2LLTest_CMS
    capability: HEPLike_B2mumuLogLikelihood_CMS

  - purpose:    B2LLTest_Atlas
    capability: HEPLike_B2mumuLogLikelihood_Atlas

  - purpose:    B2KStarMuMuAngularTest_Atlas
    capability: HEPLike_B2KstarmumuAng_LogLikelihood_Atlas

  - purpose:    B2KStarMuMuAngularTest_CMS
    capability: HEPLike_B2KstarmumuAng_LogLikelihood_CMS

  - purpose:    B2KStarMuMuAngularTest_Belle
    capability: HEPLike_B2KstarmumuAng_LogLikelihood_Belle

  #- purpose:    B2KStarMuMuAngularTest_LHCb
  #  capability: HEPLike_B2KstarmumuAng_LogLikelihood_LHCb

  - purpose:    B2KStarMuMuBranchingRatioTest
    capability: HEPLike_B2KstarmumuBr_LogLikelihood_LHCb

  - purpose:    Bs2PhiMuMuBranchingRatioTest
    capability: HEPLike_Bs2PhimumuBr_LogLikelihood


  - purpose:    RKTest
    capability: HEPLike_RK_LogLikelihood

  - purpose:    RKstarTest
    capability: HEPLike_RKstar_LogLikelihood_LHCb



Rules:

      # SuperIso is not ready for the "new" way.
      # RDRDstar_obs_list: [
      #   RD,
      #   RDstar,
      # ]

  - capability: SuperIso_prediction_B2mumu
    options:
      obs_list: [BRuntag_Bsmumu, BR_Bdmumu]

  - capability: SuperIso_prediction_Btaunu
    options:
      obs_list: [Btaunu]

  - capability: SuperIso_prediction_B2SGamma
    options:
      obs_list: [BR_BXsgamma]

  - capability: SuperIso_prediction_B2KstarGamma
    options:
      obs_list: [SKstarGamma]

  - capability: SuperIso_prediction_B2KstarmumuBr
    options:
      obs_list: [
        dGamma/dq2_B0Kstar0mumu_0.1_0.98,
        dGamma/dq2_B0Kstar0mumu_1.1_2.5,
        dGamma/dq2_B0Kstar0mumu_2.5_4,
        dGamma/dq2_B0Kstar0mumu_4_6,
        dGamma/dq2_B0Kstar0mumu_6_8,
        dGamma/dq2_B0Kstar0mumu_15_19,
      ]

  - capability: SuperIso_prediction_Bs2PhimumuBr
    options:
      obs_list: [
        dGamma/dq2_Bsphimumu_1_6,
        dGamma/dq2_Bsphimumu_15_19,
      ]



  # Can't be bothered converting these just now...

  - options:
      B2KstarmumuAng_0p1_2_Atlas_obs_list: [
        FL_B0Kstar0mumu_0.1_2,
        S3_B0Kstar0mumu_0.1_2,
        S4_B0Kstar0mumu_0.1_2,
        S5_B0Kstar0mumu_0.1_2,
        S7_B0Kstar0mumu_0.1_2,
        S8_B0Kstar0mumu_0.1_2,
      ]
      B2KstarmumuAng_2_4_Atlas_obs_list: [
        FL_B0Kstar0mumu_2_4,
        S3_B0Kstar0mumu_2_4,
        S4_B0Kstar0mumu_2_4,
        S5_B0Kstar0mumu_2_4,
        S7_B0Kstar0mumu_2_4,
        S8_B0Kstar0mumu_2_4,
      ]
      B2KstarmumuAng_4_8_Atlas_obs_list: [
        FL_B0Kstar0mumu_4_8,
        S3_B0Kstar0mumu_4_8,
        S4_B0Kstar0mumu_4_8,
        S5_B0Kstar0mumu_4_8,
        S7_B0Kstar0mumu_4_8,
        S8_B0Kstar0mumu_4_8,
      ]
      B2KstarmumuAng_1_2_CMS_obs_list: [
        P1_B0Kstar0mumu_1_2,
        P5_B0Kstar0mumu_1_2,
      ]
      B2KstarmumuAng_2_4p3_CMS_obs_list: [
        P1_B0Kstar0mumu_2_4.3,
        P5_B0Kstar0mumu_2_4.3,
      ]
      B2KstarmumuAng_4p3_6_CMS_obs_list: [
        P1_B0Kstar0mumu_4.3_6,
        P5_B0Kstar0mumu_4.3_6,
      ]
      B2KstarmumuAng_6_8p68_CMS_obs_list: [
        P1_B0Kstar0mumu_6_8.68,
        P5_B0Kstar0mumu_6_8.68,
      ]
      B2KstarmumuAng_10p09_12p86_CMS_obs_list: [
        P1_B0Kstar0mumu_10.09_12.86,
        P5_B0Kstar0mumu_10.09_12.86,
      ]
      B2KstarmumuAng_14p18_16_CMS_obs_list: [
        P1_B0Kstar0mumu_14.18_16,
        P5_B0Kstar0mumu_14.18_16,
      ]
      B2KstarmumuAng_16_19_CMS_obs_list: [
        P1_B0Kstar0mumu_16_19,
        P5_B0Kstar0mumu_16_19,
      ]
      B2KstarmumuAng_0p1_4_Belle_obs_list: [
        P4_B0Kstar0mumu_0.1_4,
        P5_B0Kstar0mumu_0.1_4,
      ]
      B2KstarmumuAng_4_8_Belle_obs_list: [
        P4_B0Kstar0mumu_4_8,
        P5_B0Kstar0mumu_4_8,
      ]
      B2KstarmumuAng_10p9_12p9_Belle_obs_list: [
        P4_B0Kstar0mumu_10.9_12.9,
        P5_B0Kstar0mumu_10.9_12.9,
      ]
      B2KstarmumuAng_14p18_19_Belle_obs_list: [
        P4_B0Kstar0mumu_14.18_19,
        P5_B0Kstar0mumu_14.18_19,
      ]

  # Use SM theory covariance matrix for every point
  - capability: SuperIso_theory_covariance
    function: SI_theory_covariance_SM

  # Use SuperIso instead of FeynHiggs for b->sgamma
  - capability: bsgamma
    function: SI_bsgamma

  # Use SuperIso instead of FeynHiggs for B_s->mumu
  - capability: Bsmumu_untag
    function: SI_Bsmumu_untag

  # Use SuperIso instead of FeynHiggs for B_s->mumu
  - capability: Btaunu
    function: SI_Btaunu

Logger:

  redirection:
    [Debug]   : "debug.log"
    [Default] : "default.log"
    [FlavBit] : "FlavBit.log"


KeyValues:

  dependency_resolution:
    prefer_model_specific_functions: true

  likelihood:
    model_invalid_for_lnlike_below: -5e5
    model_invalid_for_lnlike_below_alt: -1e5

  default_output_path: "runs/HL_test"

  debug: true
