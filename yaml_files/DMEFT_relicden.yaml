##########################################################################
## GAMBIT configuration for a random scan of the DMEFT model
##
## Contains relic density & indirect detection 
##########################################################################


Parameters:

  # SM parameters.
  StandardModel_SLHA2: !import include/StandardModel_SLHA2_defaults.yaml

  StandardModel_Higgs:
     mH: 125.09

  DMEFT:
    # DM mass
    mchi:
      range: [100,500]
    # Scale of new physics
    Lambda: 1000.
    # EM interactions (only turn on at loop-level -- not concerned with these)
    C51: 0.
    C52: 0.
    # Dim 6 -- qq chi chi bilinears
    # vector vector
    C61:
      range: [0, 1]
    # axial-vector vector
    C62: 
      range: [0, 1]
    # vector axial-vector
    C63: 
      range: [0, 1]
    # axial-vector axial-vector
    C64: 
      range: [0, 1]
    # Dim 7 -- gluons
    C71:  
      range: [0, 1]
    C72:  
      range: [0, 1]
    C73:  
      range: [0, 1]
    C74:  
      range: [0, 1]
    # Dim 7 -- Higgs induced bilinears
    # Scalar scalar
    C75:  
      range: [0, 1]
    # Pseudoscalar scalar
    C76:  
      range: [0, 1]
    # Scalar pseudoscalar
    C77:  
      range: [0, 1]
    # Pseudoscalar pseudoscalar
    C78:  
      range: [0, 1]
    # Dim 7 -- tensor currents
    # sigma sigma
    C79:  
      range: [0, 1]
    # sigma*ig5 sigma
    C710:  
      range: [0, 1]

Priors:

  # All the priors are simple for this scan, so they are specified directly in the Parameters section.

Printer:

  printer: cout
  options:
    output_file: "results.txt"
    delete_file_on_restart: true
    buffer_length: 10000

Scanner:

  use_scanner: random

  scanners:

    random:
      plugin: random
      point_number: 10
      like:  LogLike

ObsLikes:

  # Relic density
  - capability: lnL_oh2
    purpose:    LogLike

  - capability: RD_oh2
    purpose: Observable

  # Indirect detection
  - capability: lnL_FermiLATdwarfs
    purpose:    LogLike

  - capability: sigmav
    purpose:    Observable

Rules:

  - capability: RD_oh2
    function: RD_oh2_general # Use the DarkBit native calculator for the relic density
    #function: RD_oh2_MicrOmegas # NOT YET WORKING Use MicrOMEGAs for the relic density

  # Choose to implement the relic density likelihood as an upper bound, not a detection
  - capability: lnL_oh2
    function: lnL_oh2_upperlimit

  # Choose to rescale signals in direct and indirect detection by the relic density fraction
  - capability: RD_fraction
    function: RD_fraction_leq_one

  # Choose to use DarkSUSY's yield tables for indirect detection
  - capability: SimYieldTable
    function: SimYieldTable_DarkSUSY
    options:
      allow_yield_extrapolation: true

  # Use the WIMP properties to get WIMP mass etc.
  - capability: mwimp
    function: mwimp_from_WIMPprops

  - capability: wimp_sc
    function: wimp_sc_from_WIMPprops

  - capability: spinwimpx2
    function: jwimpx2_from_WIMPprops

  # Choose to get decay rates from DecayBit proper, not an SLHA file
  - capability: decay_rates
    function: all_decays

Logger:

  redirection:
    [Debug] : "debug.log"
    [Default] : "default.log"
    [DecayBit] : "DecayBit.log"
    [PrecisionBit] : "PrecisionBit.log"
    [ColliderBit] : "ColliderBit.log"
    [SpecBit] : "SpecBit.log"
    [Dependency Resolver] : "dep_resolver.log"

KeyValues:

  dependency_resolution:
    prefer_model_specific_functions: true

  likelihood:
    model_invalid_for_lnlike_below: -5e5
    model_invalid_for_lnlike_below_alt: -1e5

  default_output_path: "runs/DMEFT_relicden/"

  debug: false

