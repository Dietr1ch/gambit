##########################################################################
## GAMBIT configuration for Non-relativistic effective oppperator DM
##########################################################################


Parameters:

  # SM parameters.
  StandardModel_SLHA2: !import include/StandardModel_SLHA2_scan.yaml

  StandardModel_Higgs: 
    mH: 125

  NREO_DiracDM:
    m:
      prior_type: log # flat log prior
      range: [1.0e+0, 1.0e+4]
    c0_1:
      prior_type: log # flat log prior
      range: [1.0e-10, 1.0e-7]
    c0_2: 0
      # prior_type: log # flat log prior
    c0_3: 0
      # prior_type: log # flat log prior
    c0_4:
      prior_type: log # flat log prior
      range: [1.0e-8, 1.0e-4]
    c0_5: 0
      # prior_type: log # flat log prior
    c0_6: 0
      # prior_type: log # flat log prior
    c0_7: 0
      # prior_type: log # flat log prior
    c0_8: 0
      # prior_type: log # flat log prior
    c0_9: 0
      # prior_type: log # flat log prior
    c0_10:
      prior_type: log # flat log prior
      range: [1.0e-6, 1.0e-2]
    c0_11: 0
      # prior_type: log # flat log prior
    c0_12: 0
      # prior_type: log # flat log prior
    c0_13: 0
      # prior_type: log # flat log prior
    c0_14: 0
      # prior_type: log # flat log prior
    c0_15: 0
      # prior_type: log # flat log prior
    c1_1: 0
      # prior_type: log # flat log prior
    c1_2: 0
      # prior_type: log # flat log prior
    c1_3: 0
      # prior_type: log # flat log prior
    c1_4: 0
      # prior_type: log # flat log prior
    c1_5: 0
      # prior_type: log # flat log prior
    c1_6: 0
      # prior_type: log # flat log prior
    c1_7: 0
      # prior_type: log # flat log prior
    c1_8: 0
      # prior_type: log # flat log prior
    c1_9: 0
      # prior_type: log # flat log prior
    c1_10: 0
      # prior_type: log # flat log prior
    c1_11: 0
      # prior_type: log # flat log prior
    c1_12: 0
      # prior_type: log # flat log prior
    c1_13: 0
      # prior_type: log # flat log prior
    c1_14: 0
      # prior_type: log # flat log prior
    c1_15: 0
      # prior_type: log # flat log prior

  Halo_gNFW_rho0:
    rho0:
      range: [.2, .8]
    v0:
      range: [200.0, 300.0]
    vesc: 550.0
    vrot:
      range: [200.0, 250.0]
    rs: 20.0
    r_sun: 8.5
    alpha: 1
    beta: 3
    gamma: 1

  WIMP_sigmav:
    A_bb:     3.0e-26
    A_WW:     3.0e-26
    A_cc:     3.0e-26
    A_ZZ:     3.0e-26
    A_tt:     3.0e-26
    A_hh:     3.0e-26
    A_tautau: 3.0e-26
    B_bb:     0 #1.0e-26
    B_WW:     0 #1.0e-26
    B_cc:     0
    B_ZZ:     0
    B_tt:     0
    B_hh:     0
    B_tautau: 0

Priors:

  # none


Printer:

  printer: hdf5
  options:
    output_file: "nreo.hdf5"
    group: "/nreo"
    delete_file_on_restart: true

  # printer: ascii
  # options:
  #  output_file: "nreo.dat"
  #  buffer_length: 10
  #  delete_file_on_restart: true

  # printer: cout

Scanner:

  use_scanner: multinest

  scanners:

    random:
      plugin: random
      like: LogLike
      point_number: 10

    square_grid:
      plugin: square_grid
      like: LogLike
      grid_pts: 1
  
    multinest:
      plugin: multinest
      like:  LogLike
      nlive: 2000
      tol: 0.1

    twalk:
      plugin: twalk
      like: LogLike

    polychord:
      plugin: polychord
      like:  LogLike
      tol: 0.1
    
    diver:
      plugin: diver
      like: LogLike
      NP: 500


ObsLikes:
  # Indirect detection
  # Ice Cube
  - purpose: LogLike
    capability: IC79_loglike
  
  # Direct detection
  - capability: LUX_2016_LogLikelihood
    purpose:    LogLike

  - capability: XENON1T_2018_LogLikelihood
    purpose:    LogLike

  - capability: PandaX_2016_LogLikelihood
    purpose:    LogLike

  - capability: PandaX_2017_LogLikelihood
    purpose:    LogLike

  - capability: PICO_60_2017_LogLikelihood
    purpose:    LogLike

  - capability: CRESST_II_LogLikelihood
    purpose:    LogLike

  - capability: CDMSlite_LogLikelihood
    purpose:    LogLike

  - capability: DarkSide_50_LogLikelihood
    purpose:    LogLike


Rules:
    # Needed by DDCalc_2_1_0_init, get WIMP-nucleon couplings from NREO wilson coefficients
    - capability: DDCalc_Couplings
      function: DDCalc_Couplings_NR_WCs # DDCalc_Couplings_WIMP_nucleon

    # Needed by IC79SL_full and DDCalc_2_1_0_init, from WIMPprops pulls from the model params
    - capability: mwimp
      function: mwimp_from_WIMPprops # mwimp_generic
    
    # Needed by DDCalc_2_1_0_init, pulls from model params
    - capability: spinwimpx2
      function: jwimpx2_from_WIMPprops # spinwimpx2_generic

    # Needed by annihilation_rate_Sun, NREO is the non-relativistic effective opperator update to capgen
    - capability: capture_rate_Sun
      function: capture_rate_Sun_NREO # capture_rate_Sun_vnqn, capture_rate_Sun_const_xsec_capgen, capture_rate_Sun_const_xsec

    # Needed by DDCalc_2_2_0_init, pulls from model params
    - capability: wimp_sc
      function: wimp_sc_from_WIMPprops # wimp_sc_generic

    # Needed by nuyield_from_DS and wimp_sc_generic, Effective Field Theory ID
    - capability: DarkMatter_ID
      function: DarkMatter_ID_EFT # DarkMatter_ID_MSSM

    # Needed by nuyield_from_DS and wimp_sc_generic, catalogue for wimp eft
    - capability: TH_ProcessCatalog
      function: TH_ProcessCatalog_WIMP_EFT # TH_ProcessCatalog_MSSM

    # Needed by TH_ProcessCatalog_WIMP_EFT, choose to get decays from DecayBit proper, not from an SLHA file. from the HP_Develop branch in file capgentest.yaml
    - capability: decay_rates
      function: all_decays # all_decays_from_SLHA

    # Needed by CaptnGeneral_1_0_init and DDCalc_2_1_0_init, _one sets to one
    - capability: RD_fraction
      function: RD_fraction_one # RD_fraction_leq_one, RD_fraction_rescaled
    
    # Needed by nuyield_ptr
    - capability: DarkMatterConj_ID
      function: DarkMatterConj_ID_EFT # DarkMatterConj_ID_MSSM

    #Needed by nuyield_ptr
    - capability: sigmav
      function: sigmav_late_universe # sigmav_late_universe_MicrOmegas
Logger:

  redirection:
    [Debug]   : "debug.log"
    [Default]      : "default.log"
    [DarkBit] : "DarkBit.log"
    [PrecisionBit] : "PrecisionBit.log"
    [DecayBit] : "DecayBit.log"
    [SpecBit] : "SpecBit.log"
    [Scanner]      : "Scanner.log"


KeyValues:

  # dependency_resolution:
  #   prefer_model_specific_functions: true

  likelihood:
    model_invalid_for_lnlike_below: -5e5
    model_invalid_for_lnlike_below_alt: -1e5

  default_output_path: "runs/nreo_NR_both_multinest_c1_c4_c10"

  rng:
    generator: ranlux48
    seed: -1


  print_timing_data: true

  # debug: true
