#############################################################################
## GAMBIT configuration for the SuperRenormHP model scans.
#############################################################################

Parameters:

  #Dark matter halo parameters.
  # Halo_gNFW_rho0:
  #   rho0: 0.3
  #     # range: [.2, .8]
  #   v0: 235.0
  #   vesc: 550.0
  #   vrot: 235.0
  #   rs: 20.0
  #   r_sun: 8.5
  #   alpha: 1
  #   beta: 3
  #   gamma: 1

  #LCDM:
  # omega_b: 0.02242
  #  # prior_type: flat
  #  # range: [0.020,0.024]
  # omega_cdm: 0.11933
  #  # prior_type: flat
  #  # range: [0.10,0.13]
  # H0: 67.66
  #  # prior_type: flat
  #  # range: [62,74]
  # ln10A_s: 3.047
  #  # prior_type: flat
  #  # range: [2.9,3.2]
  # n_s: 0.9665
  #  # prior_type: flat
  #  # range: [0.9,1.10]
  # tau_reio: 0.0561
  #  # prior_type: flat
  #  #range: [0.04,0.20]
  #  # range: [0.004,0.20]
  # T_cmb: 2.72548
  #  # measurement 2.72548 \pm 0.00057
  #  # -> vary within error range
  #  #prior_type: gaussian
  #  #range: [2.72491,2.72605]

  SuperRenormHP:
   mS:
     prior_type: log
     range: [1e-12, 5e-5]
   theta:
     prior_type: log
     range: [1e-10, 1e-4]

  SuperRenormHP_solar_neutrino:
    alpha: 1

  # StandardModel_SLHA2: !import include/StandardModel_SLHA2_defaults.yaml
  # StandardModel_SLHA2: !import include/StandardModel_SLHA2_cosmo.yaml

  # StandardModel_Higgs:
  #  mH: 125.18

  # # Nuclear matrix parameters.
  # nuclear_params_sigmas_sigmal:
  #   sigmas: 43
  #     # range:  [19, 67]
  #   sigmal: 58
  #     # range:  [31, 85]
  #   deltau:
  #     fixed_value: 0.842
  #   deltad:
  #     fixed_value: -0.427
  #   deltas:
  #     fixed_value: -0.085

Priors:

Printer:

  printer: ascii
  options:
    output_file: "results.dat"
    buffer_length: 10
    delete_file_on_restart: true

Scanner:

  use_scanner: grid_sq

  scanners:

    grid:
      plugin: grid
      like: LogLike
      grid_pts: [50, 50]

    grid_sq:
      plugin: square_grid
      like: LogLike
      grid_pts: 350

    random:
      plugin: random
      like: LogLike
      point_number: 1

    de:
      plugin: diver
      like: LogLike
      NP: 500
      # convthresh: 1e-5
      verbosity: 1

ObsLikes:

  # DM Local Halo likelihoods
  #   capability: lnL_rho0
  #   purpose: LogLike

  # - capability: Jtest
  #   purpose: Observable

  # - purpose:      Observable
  #   capability:   TH_ProcessCatalog
  #   module:       DarkBit
  #   type:         TH_ProcessCatalog
  #   printme:      false

  # - purpose:      Observable
  #   capability:   BBN_abundances
  #   sub_capabilities: [He4]

  # - purpose:      LogLike
  #   capability:   lnL_INTEGRAL_ang_b
  #   module:       DarkBit
  #   type:         double

  # - purpose:      LogLike
  #   capability:   lnL_INTEGRAL_ang_l
  #   module:       DarkBit
  #   type:         double

  # - purpose:      LogLike
  #   capability:   lnL_INTEGRAL_CO
  #   module:       DarkBit
  #   type:         double

  # - purpose:      LogLike
  #   capability:   lnL_HEAO
  #   module:       DarkBit
  #   type:         double

  - purpose:      LogLike
    capability:   lnL_solar_neutrino_B8
    module:       DarkBit
    type:         double

  - purpose:      LogLike
    capability:   lnL_solar_neutrino_Be7
    module:       DarkBit
    type:         double

  # - purpose:      Observable
  #   capability:   ModifiedGravityYukawa_parameters

  # - purpose:      LogLike
  #   capability:   lnL_ShortRangeForces_Sushkov2011
  #   module:       DarkBit
  #   type:         double


  # - purpose:   Observable
  #   capability: Omega0_m
  # - purpose:   ObsLikes
  #   capability: Omega0_r
  # - purpose:   ObsLikes
  #   capability: Omega0_Lambda
  # - purpose:   ObsLikes
  #   capability: Omega0_cdm

Rules:

  # error calculation precision settings for AltterBBN
  # (use 1 and 0 to speed up Helium abundance calculation for testing)
  # (For more precise calculations, use 3 or 7)
  - capability: AlterBBN_Input
    options:
      failsafe: 0
      err: 0

  # correlation matrix for BBN error calculation todo explain what that is!
  - capability: BBN_abundances
    options:
      elements: [Yp, D, He3, Be7, Li7]
      correlation_matrix: [[+1.000e00, +1.524e-2, +2.667e-2, +2.303e-2, +2.429e-2],
                           [+1.524e-2, +1.000e00, -8.160e-1, -3.775e-1, -3.653e-1],
                           [+2.667e-2, -8.160e-1, +1.000e00, +3.897e-1, +3.780e-1],
                           [+2.303e-2, -3.775e-1, +3.897e-1, +1.000e00, +9.974e-1],
                           [+2.429e-2, -3.653e-1, +3.780e-1, +9.974e-1, +1.000e00]]
      relative_errors: [1.348e-3, 1.596e-2, 1.618e-2, 6.788e-2, 6.579e-2]

  - capability: classy_final_input
    function: set_classy_input
    module: CosmoBit

  - capability: Omega0_m
    function: get_Omega0_m_classy
    module: CosmoBit

  - capability: Omega0_r
    function: get_Omega0_r_classy
    module: CosmoBit

  - capability: lnL_solar_neutrino_B8
    options:
      profile_systematics: false

  - capability: lnL_solar_neutrino_Be7
    options:
      profile_systematics: false

  - capability: TH_ProcessCatalog
    function: TH_ProcessCatalog_SuperRenormHP
    dependencies:
      - capability: decay_rates
        function: all_decays
        module: DecayBit

  # - module: CosmoBit
  #   options:
  #     allow_massless_neutrinos: true

Logger:

  redirection:
    [Default]      : "default.log"
    [DarkBit]      : "DarkBit.log"
    [Scanner]      : "Scanner.log"
  debug: true

KeyValues:

  default_output_path: "runs/SuperRenormHP"

  print_timing_data: true

  debug: false
