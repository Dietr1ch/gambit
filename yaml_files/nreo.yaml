##########################################################################
## GAMBIT configuration for Non-relativistic effective oppperator DM
##########################################################################


Parameters:
  # In this example we will simply be fitting the mean and standard deviation of a normal distribution.
  NREO:
    j: 0.5
    m:
      range: [1, 100]
    c0_1: 0.0000000165  # 1.65*10**(-8)
    c0_2: 0
    c0_3: 0
    c0_4: 0
    c0_5: 0
    c0_6: 0
    c0_7: 0
    c0_8: 0
    c0_9: 0
    c0_10: 0
    c0_11: 0
    c0_12: 0
    c0_13: 0
    c0_14: 0
    c0_15: 0
    c1_1: 0
    c1_2: 0
    c1_3: 0
    c1_4: 0
    c1_5: 0
    c1_6: 0
    c1_7: 0
    c1_8: 0
    c1_9: 0
    c1_10: 0
    c1_11: 0
    c1_12: 0
    c1_13: 0
    c1_14: 0
    c1_15: 0

  Halo_gNFW_rho0:
    rho0:
      range: [.2, .8]
    v0: 235.0
    vesc: 550.0
    vrot: 235.0
    rs: 20.0
    r_sun: 8.5
    alpha: 1
    beta: 3
    gamma: 1

  # Halo_Einasto_rho0:
  #  rho0:
  #    range: [.2, .8]
  #  v0: 235.0
  #  vesc: 550.0
  #  vrot: 235.0
  #  rs: 20.0
  #  r_sun: 8.5
  #  alpha: .17

  # SUSY parameters. from CMSSM.yaml
  # needed by DarkSUSY_PointINit_MSSM in DarkBit/src/MSSM.cpp
  # CMSSM:
  #   M0:
  #     range: [50, 1e4]
  #     prior_type: log
  #   M12:
  #     range: [50, 1e4]
  #     prior_type: log
  #   A0:
  #     range: [-1e4, 1e4]
  #     flat_start: -1e2
  #     flat_end: 1e2
  #     prior_type: double_log_flat_join
  #   TanBeta:
  #     range: [3.0, 70]
  #   SignMu: 1

  # SM parameters.
  # needed by get_SMINPUTS
  # StandardModel_SLHA2: !import include/StandardModel_SLHA2_defaults.yaml


Priors:

  # none


Printer:

  # printer: hdf5
  # options:
  #   output_file: "nreo.hdf5"
  #   group: "/nreo"
  #   delete_file_on_restart: true

  printer: ascii
  options:
   output_file: "nreo.dat"
   buffer_length: 10
   delete_file_on_restart: true

  # printer: cout

Scanner:

  use_scanner: sqrgrd

  scanners:

    random:
      plugin: random
      like: LogLike
      point_number: 10

    # de:
    #   plugin: diver
    #   like: LogLike
    #   NP: 500

    multinest:
      plugin: multinest
      like:  LogLike
      nlive: 500
      tol: 0.5

    # mcmc:
    #   plugin: great
    #   like: LogLike
    #   nTrialLists: 5
    #   nTrials: 10000

    twalk:
      plugin: twalk
      like: LogLike

    polychord:
      plugin: polychord
      like:  LogLike
      tol: 0.1

    sqrgrd:
      plugin: square_grid
      like: LogLike
      grid_pts: 20


ObsLikes:

  - purpose:      LogLike
    capability:   capture_rate_Sun
    module:       DarkBit
    function: capture_rate_Sun_NREO
    type:         double

  # Indirect detection
  # Ice Cube
  - purpose: LogLike
    capability: IC79_loglike

  # Direct detection
  # - capability: LUX_2016_LogLikelihood
  #   purpose:    LogLike

  # - capability: XENON1T_2018_LogLikelihood
  #   purpose:    LogLike

  # - capability: PandaX_2016_LogLikelihood
  #   purpose:    LogLike

  # - capability: PandaX_2017_LogLikelihood
  #   purpose:    LogLike

  # - capability: PICO_60_2017_LogLikelihood
  #   purpose:    LogLike

  # - capability: CRESST_II_LogLikelihood
  #   purpose:    LogLike

  # - capability: CDMSlite_LogLikelihood
  #   purpose:    LogLike

  # - capability: DarkSide_50_LogLikelihood
  #   purpose:    LogLike


Rules:
    # why do I need a function for mwimp, shouldn't I just be providing it by the model nreo?
    - capability: mwimpNREO
      function: Observable #mwimp_generic

    # RD_fraction needed by the captn init function, _one sets to one
    - capability: RD_fraction
      function: RD_fraction_one # RD_fraction_leq_one, RD_fraction_rescaled

    # # DarMatter_ID_MSSM function needs this
    # - capability: MSSM_spectrum
    #   function: make_MSSM_precision_spectrum_4H_W # make_MSSM_precision_spectrum_H_W, make_MSSM_precision_spectrum_H, make_MSSM_precision_spectrum_W, make_MSSM_precision_spectrum_none

    # # TH_ProcessCAtalog_MSSM needs this
    # - capability: decay_rates
    #   function: all_decays_from_SLHA

    # # make_MSSM_precision_spectrum_4H_W needs these two
    # - capability: prec_mh
    #   function: FH_HiggsMass # SHD_HiggsMass
    # - capability: unimproved_MSSM_spectrum
    #   function: get_MSSM_spectrum_SPheno # get_CMSSM_spectrum_FS, get_MSSMatMGUT_spectrum_FS, get_MSSMatQ_spectrum_FS, get_MSSMatMGUT_spectrum_FlexibleEFTHiggs, get_MSSMatQ_spectrum_FlexibleEFTHiggs, get_MSSM_spectrum_from_SLHAfile, get_MSSM_spectrum_from_SLHAstruct

    # # errors: Option "SLHA_decay_filenames" is required to use this function
    # # found in DecayBit/scr/DecayBit.cpp:
    # # /// Read an SLHA2 file in and use it to create a GAMBIT DecayTable.
    # # ///  Note that creating a DecayTable from an SLHA1 file is not possible at present.
    # # void all_decays_from_SLHA(DecayTable& decays)
    # - options:
    #   SLHA_decay_filenames: testFile.txt # seems to not recognize this option, otherwise would output 'file empty' error
    # # what is a decay table?

Logger:

  redirection:
    [Debug]   : "debug.log"
    [Default]      : "default.log"
    [DarkBit] : "DarkBit.log"
    [PrecisionBit] : "PrecisionBit.log"
    [DecayBit] : "DecayBit.log"
    [SpecBit] : "SpecBit.log"
    [Scanner]      : "Scanner.log"


KeyValues:

  # dependency_resolution:
  #   prefer_model_specific_functions: true

  likelihood:
    model_invalid_for_lnlike_below: -5e5
    model_invalid_for_lnlike_below_alt: -1e5

  default_output_path: "runs/nreo"

  rng: ranlux48

  print_timing_data: true

  debug: false
