Parameters:

  StandardModel_SLHA2: !import include/StandardModel_SLHA2_Planckbaseline.yaml

  LCDM:
    omega_b:
      prior_type: flat
      range: [0.020,0.024]
    omega_cdm:
      prior_type: flat
      range: [0.10,0.13]
    H0:
      prior_type: flat
      range: [62,74]
    tau_reio:
      prior_type: flat
      range: [0.004,0.20]
    T_cmb:
      fixed_value: 2.72548

  Minimal_PowerLaw_ps:
    ln10A_s:
      prior_type: flat
      range: [2.9,3.2]
    n_s:
      prior_type: flat
      range: [0.9,1.10]

  DecayingDM_photon:
    mass: 
      fixed_value: 1e-2
    lifetime:
      range: [1e4, 1e14]
      prior_type: log
    fraction:
      range: [1e-13, 1e0]
      prior_type: log

  cosmo_nuisance_Planck_lite:
    A_planck:
      prior_type: flat
      range: [0.9,1.1]

  cosmo_nuisance_SpectralDistortions: !import include/cosmo_nuisance_SpectralDistortions_flat.yaml
  #cosmo_nuisance_SpectralDistortions: !import include/cosmo_nuisance_SpectralDistortions_fid.yaml

Priors:

Printer:
  printer: cout

  # printer: hdf5
  # options:
  #   output_file: "CosmoBit_Spectral.hdf5"
  #   group: "/data"
  #   delete_file_on_restart: false
  #   buffer_length: 100

Scanner:
  use_scanner: random

  scanners:
    multinest:
      plugin: multinest
      like:  LogLike
      nlive: 10000
      tol: 1e-5

    random:
      plugin: random
      point_number: 10
      like:  LogLike

ObsLikes:

  - purpose:      LogLike
    capability:   BBN_LogLike
    sub_capabilities: [D, He4]

  - purpose:      Observable
    capability:   BBN_abundances

  - purpose:      LogLike
    capability:   MP_Combined_LogLike
    module:       CosmoBit
    type:         double
    sub_capabilities:
      - bao_boss_dr12
      - bao_smallz_2014
      #- firas
      - pixie

  - purpose:      Observable
    capability:   MP_LogLikes
    type:         map_str_dbl

  - purpose:      LogLike
    capability:   Planck_nuisance_prior_loglike

  - purpose:      LogLike
    capability:   Planck_highl_loglike
    function:     function_Planck_highl_TTTEEE_lite_2018_loglike

  - purpose:      LogLike
    capability:   Planck_lensing_loglike
    function:     function_Planck_lensing_2018_loglike

  - purpose:      LogLike
    capability:   Planck_lowl_loglike
    function:     function_Planck_lowl_TTEE_2018_loglike

  - purpose:      Observable
    capability:   StandardModel_SLHA2_parameters
    type:         ModelParameters
    printme:      false

#======== 7) Rule entries ========
Rules:

  - capability: AlterBBN_Input
    options:
      failsafe: 3
      err: 0

  - capability: BBN_abundances
    options:
      isotope_basis: [He4, D]
      correlation_matrix: [[+1.000e00, +1.524e-2],
                           [+1.524e-2, +1.000e00]]
      relative_errors: [1.348e-3, 1.596e-2]

  - capability: classy_MPLike_input
    function: set_classy_input_with_MPLike

  - capability: classy_parameters_EnergyInjection
    function: set_classy_parameters_EnergyInjection_DecayingDM_onSpot

  - capability: f_eff
    function: f_eff_constant
    options:
      f_eff: 1.0

Logger:
  redirection:
    [Default] : "default.log"

KeyValues:

  debug: true

  default_output_path: "runs/CosmoBit_Spectral"

  likelihood:
    model_invalid_for_lnlike_below: -1e30
